(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,function(t,e,n){"use strict";n.r(e);var o=n(2),r=n(3);window.interval=200,window.R=o.c,window.synth=null,window.getAll=()=>console.table(Object.keys(R).reduce((t,e,n)=>(t[e]=window.synth.get_state(n),t),{}));class i{get freq(){return this._freq}set freq(t){this._freq=t,this.synth.set_freq(t)}constructor(){this.active=!1,this.synth=o.b.new(),this.freq=440,window.synth=this.synth,this.bufferLength=2048,this.buffer=new Float32Array(this.bufferLength)}initAudio(){this.audioContext=this.getWindowAudioContext(),this.customWaveform=this.audioContext.createScriptProcessor(this.bufferLength,0,1)}getWindowAudioContext(){return window.AudioContext=window.AudioContext||window.webkitAudioContext,new AudioContext}play(){void 0===this.audioContext&&this.initAudio(),!!this.noteToggleTimer?(this.cancelPlayTimer(),this.customWaveform.disconnect(this.audioContext.destination)):(this.freq=440,this.customWaveform.addEventListener("audioprocess",this.onAudioProcess.bind(this)),this.customWaveform.connect(this.audioContext.destination),this.startPeriodicNotes())}startPeriodicNotes(){let t=!1;this.noteToggleTimer=setInterval(()=>{t?this.noteOff():this.noteOn(),t=!t},interval)}onAudioProcess(t){const e=t.outputBuffer;this.read(),e.copyToChannel(this.buffer,0)}cancelPlayTimer(){this.noteToggleTimer&&(clearInterval(this.noteToggleTimer),this.noteOff(),this.noteToggleTimer=null)}read(){this.buffer?this.synth.read(this.buffer):console.error("cannot read as synth is not initialised")}noteOn(){this.active=!0,this.synth.note_on()}noteOff(){this.active=!1,this.synth.note_off()}toggle(){this.active?this.noteOff():this.noteOn()}incrFrequency(t){console.log({semitones:t}),console.log({before:this.freq});const e=void 0!==t?t/12:1/12;console.log({oct:e});const n=Math.pow(2,e);console.log({factor:n}),this.freq=this.freq*n,console.log({after:this.freq}),this.synth.set_freq(this.freq)}dispose(){this.synth&&this.synth.free(),this.synth=null}}const s=12,c="#04425a",u="#8bc0c1",l="#04425a";let a={value:null},f=null,h=null;function d(){console.time("synthread"),h.read(),console.timeEnd("synthread")}function g(t,e,n){return e*t+n}!function(){const t=o.d.new(),e=t.width(),n=t.height(),w=function(t,e){const n=document.getElementById("game-of-life-canvas");return n.height=(s+1)*e+1,n.width=(s+1)*t+1,n}(e,n).getContext("2d"),y={universe:t};(function(t,e){document.addEventListener("keydown",function(n){switch(n.key){case" ":t.isPlaying()?t.stop():t.start();break;case"n":t.isPlaying()&&t.stop(),t.isPlaying()||t.start(!0);break;case"c":t.isPlaying()&&t.stop(),e.universe.clear(),t.draw();break;case"r":t.isPlaying()&&t.stop(),e.universe.reset(),t.draw();break;case"s":!function(){console.time("synthing"),console.log("begining..."),d(),h.noteOn();for(let t=1;t<60;t++)d(),console.log(h.buffer);console.timeEnd("synthing"),console.log("done...")}();break;case"o":window.getAll();break;case"p":console.log("starting playing.."),h.play();break;case"P":console.log("stopping playing.."),h.cancelPlayTimer();break;case"z":h.incrFrequency(-1);break;case"x":h.incrFrequency(1);break;case"Z":h.incrFrequency(-2);break;case"X":h.incrFrequency(2)}n.shiftKey&&h.noteOn()}),document.addEventListener("keyup",function(t){t.shiftKey&&h.noteOff()}),document.addEventListener("mousedown",function(n){const o=n.offsetX,r=n.offsetY,{width:i,height:c}=t.size(),u=Math.floor(o/(s+1)),l=Math.floor(r/(s+1));0===n.button&&(e.universe.toggle(u,l),t.draw()),console.log({ix:u,iy:l}),console.log({width:i,height:c}),u<4&&h.play()})})(f=function(t,e,n,i,a){function f(t){t&&a.universe.tick(),h(),t||(e.value=requestAnimationFrame(d))}function h(){!function(t,e,n){t.beginPath(),t.strokeStyle=c;for(let o=0;o<=e;o++)t.moveTo(o*(s+1)+1,0),t.lineTo(o*(s+1)+1,(s+1)*n+1);for(let o=0;o<=n;o++)t.moveTo(0,o*(s+1)+1),t.lineTo((s+1)*e+1,o*(s+1)+1);t.stroke()}(t,n,i),function(t,e,n,i){const c=i.cells(),a=new Uint8Array(r.o.buffer,c,e*n);t.beginPath(),t.fillStyle=l;for(let r=0;r<n;r++)for(let n=0;n<e;n++)a[g(e,r,n)]!==o.a.Dead&&t.fillRect(n*(s+1)+1,r*(s+1)+1,s,s);t.fillStyle=u;for(let r=0;r<n;r++)for(let n=0;n<e;n++)a[g(e,r,n)]===o.a.Dead&&t.fillRect(n*(s+1)+1,r*(s+1)+1,s,s);t.stroke()}(t,n,i,a.universe)}function d(){a.universe.tick(),f()}return{start:f,stop:function(){cancelAnimationFrame(e.value),e.value=null},draw:h,isPlaying:function(){return null!==e.value},size:function(){return{width:n,height:i}}}}(w,a,e,n,y),y),f.start(),console.time("init synth"),h=new i,console.timeEnd("init synth")}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"c",function(){return u}),n.d(e,"e",function(){return d}),n.d(e,"f",function(){return y}),n.d(e,"g",function(){return m}),n.d(e,"i",function(){return k}),n.d(e,"b",function(){return A}),n.d(e,"d",function(){return _}),n.d(e,"h",function(){return P});var o=n(3);Object.freeze({Underpopulation:0,LivesOn:1,Overpopulation:2,Reproduction:3,NoChange:4});const r=Object.freeze({Dead:0,Alive:1});let i=null;function s(){return null!==i&&i.buffer===o.o.buffer||(i=new Float32Array(o.o.buffer)),i}let c=0;const u=Object.freeze({Attack:0,Decay:1,Harmonic2Gain:2,HarmonicsControl:3,HPFCutoff:4,LPF:5,LPFmodrate:6,LPFrelease:7,LPFwidth:8,Release:9,SubOscGain:10,Sustain:11,WFunction:12});let l=new TextDecoder("utf-8"),a=null;function f(){return null!==a&&a.buffer===o.o.buffer||(a=new Uint8Array(o.o.buffer)),a}function h(t,e){return l.decode(f().subarray(t,t+e))}function d(t,e){let n=h(t,e);n=n.slice(),o.c(t,1*e),console.error(n)}const g=new Array(32);g.fill(void 0),g.push(void 0,null,!0,!1);let w=g.length;function y(){return function(t){w===g.length&&g.push(g.length+1);const e=w;return w=g[e],g[e]=t,e}(new Error)}let p,b=new TextEncoder("utf-8");p="function"==typeof b.encodeInto?function(t){let e=t.length,n=o.d(e),r=0;{const e=f();for(;r<t.length;r++){const o=t.charCodeAt(r);if(o>127)break;e[n+r]=o}}if(r!==t.length){t=t.slice(r),n=o.e(n,e,e=r+3*t.length);const i=f().subarray(n+r,n+e);r+=b.encodeInto(t,i).written}return c=r,n}:function(t){let e=t.length,n=o.d(e),r=0;{const e=f();for(;r<t.length;r++){const o=t.charCodeAt(r);if(o>127)break;e[n+r]=o}}if(r!==t.length){const i=b.encode(t.slice(r));n=o.e(n,e,e=r+i.length),f().set(i,n+r),r+=i.length}return c=r,n};let v=null;function m(t,e){const n=p((r=e,g[r]).stack);var r;const i=c,s=(null!==v&&v.buffer===o.o.buffer||(v=new Uint32Array(o.o.buffer)),v);s[t/4]=n,s[t/4+1]=i}function k(t,e){throw new Error(h(t,e))}class A{static __wrap(t){const e=Object.create(A.prototype);return e.ptr=t,e}free(){const t=this.ptr;this.ptr=0,function(t){o.a(t)}(t)}static new(){return A.__wrap(o.g())}read(t){const e=function(t){const e=o.d(4*t.length);return s().set(t,e/4),c=t.length,e}(t),n=c;try{return o.j(this.ptr,e,n)}finally{t.set(s().subarray(e/4,e/4+n)),o.c(e,4*n)}}set_buffer_len(t){return o.l(this.ptr,t)}note_on(){return o.i(this.ptr)}note_off(){return o.h(this.ptr)}set_freq(t){return o.m(this.ptr,t)}get_state(t){return o.f(this.ptr,t)}set_state(t,e){return o.n(this.ptr,t,e)}refresh(){return o.k(this.ptr)}}class _{static __wrap(t){const e=Object.create(_.prototype);return e.ptr=t,e}free(){const t=this.ptr;this.ptr=0,function(t){o.b(t)}(t)}static new(){return _.__wrap(o.s())}width(){return o.x(this.ptr)>>>0}height(){return o.r(this.ptr)>>>0}set_size(t,e){return o.u(this.ptr,t,e)}cells(){return o.p(this.ptr)}reset(){return o.t(this.ptr)}clear(){return o.q(this.ptr)}toggle(t,e){return o.w(this.ptr,t,e)}tick(){return o.v(this.ptr)}}function P(t){var e;(e=t)<36||(g[e]=w,w=e)}},function(t,e,n){"use strict";var o=n.w[t.i];t.exports=o;n(2);o.y()}]]);